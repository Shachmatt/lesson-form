<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Investigo - Lekce Akcie &amp; Index</title>
  <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #F8F9D7 0%, #E49BFF 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(133, 15, 141, 0.2);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #850F8D 0%, #C738BD 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255,255,255,0.3);
            border-radius: 4px;
            margin-top: 20px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: #F8F9D7;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 4px;
        }

        .section {
            padding: 30px;
            border-bottom: 2px solid #E49BFF;
        }

        .section:last-child {
            border-bottom: none;
        }

        /* AI Pr≈Øvodce */
        .ai-guide {
            display: flex;
            align-items: center;
            gap: 20px;
            background: linear-gradient(135deg, #E49BFF 0%, #F8F9D7 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .avatar {
            width: 80px;
            height: 80px;
            background: #850F8D;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: white;
            box-shadow: 0 5px 15px rgba(133, 15, 141, 0.3);
        }

        .guide-text {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        /* Mikro-lekce */
        .lesson-content {
            background: #F8F9D7;
            padding: 25px;
            border-radius: 15px;
            font-size: 1.2em;
            line-height: 1.6;
            text-align: center;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }

        .lesson-content strong {
            color: #850F8D;
        }

        /* Interaktivn√≠ ot√°zka */
        .question-container {
            text-align: center;
        }

        .question {
            font-size: 1.3em;
            font-weight: bold;
            color: #850F8D;
            margin-bottom: 25px;
        }

        .answers {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .answer-btn {
            padding: 20px;
            background: white;
            border: 3px solid #E49BFF;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            text-align: left;
        }

        .answer-btn:hover {
            background: #E49BFF;
            color: white;
            transform: translateY(-2px);
        }

        .answer-btn.correct {
            background: #4CAF50;
            color: white;
            border-color: #4CAF50;
        }

        .answer-btn.incorrect {
            background: #f44336;
            color: white;
            border-color: #f44336;
        }

        .feedback {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }

        .feedback.correct {
            background: #4CAF50;
            color: white;
        }

        .feedback.incorrect {
            background: #f44336;
            color: white;
        }

        /* V√Ωpoƒçetn√≠ sc√©n√°≈ô */
        .calculation {
            text-align: center;
        }

        .calc-scenario {
            background: #E49BFF;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .calc-input {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .calc-input input {
            padding: 15px;
            font-size: 1.2em;
            border: 3px solid #C738BD;
            border-radius: 10px;
            text-align: center;
            width: 120px;
        }

        .calc-btn {
            padding: 15px 30px;
            background: #850F8D;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            transition: all 0.3s ease;
        }

        .calc-btn:hover {
            background: #C738BD;
            transform: translateY(-2px);
        }

        .calc-result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
        }

        .calc-result.correct {
            background: #4CAF50;
            color: white;
        }

        .calc-result.incorrect {
            background: #f44336;
            color: white;
        }

        /* Minihra */
        .game-container {
            text-align: center;
        }

        .game-card {
            background: white;
            border: 3px solid #E49BFF;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            font-size: 1.5em;
            font-weight: bold;
            color: #850F8D;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .game-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .game-btn {
            padding: 15px 30px;
            font-size: 1.2em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        /* Styly pro akcie */
        .game-btn.stock {
            background: #4CAF50;
            color: white;
        }

        .game-btn.not-stock {
            background: #f44336;
            color: white;
        }

        /* Styly pro indexy */
        .game-btn.index {
            background: #4CAF50;
            color: white;
        }

        .game-btn.not-index {
            background: #f44336;
            color: white;
        }

        .game-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .game-feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            display: none;
        }

        .game-score {
            font-size: 1.2em;
            color: #850F8D;
            margin-bottom: 20px;
        }
        .drag-container {
    margin-top: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.drag-area {
    display: flex;
    gap: 10px;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
}

.drop-zone {
    width: 160px;
    height: 60px;
    border: 2px dashed #850F8D;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f3e7fb;
    font-weight: bold;
}

.arrow {
    font-size: 2em;
    color: #850F8D;
}

.draggable-items {
    display: flex;
    gap: 15px;
    flex-wrap: wrap;
    justify-content: center;
}

.draggable-item {
    background: #fff;
    border: 2px solid #C738BD;
    border-radius: 10px;
    padding: 10px 15px;
    cursor: grab;
    user-select: none;
    font-weight: bold;
}

.draggable-item.placed {
    opacity: 0.5;
}

.drag-feedback {
    margin-top: 15px;
    font-weight: bold;
    text-align: center;
    display: none;
}

.drag-feedback.correct {
    color: #4CAF50;
}

.drag-feedback.incorrect {
    color: #f44336;
}


        /* Investiƒçn√≠ simulace */
        .simulation-container {
            text-align: center;
        }

        .simulation-scenario {
            background: #E49BFF;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        .investment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .investment-option {
            background: white;
            border: 3px solid #E49BFF;
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .investment-option:hover {
            background: #F8F9D7;
            transform: translateY(-2px);
        }

        .investment-option.selected {
            background: #850F8D;
            color: white;
            border-color: #850F8D;
        }

        .investment-option h4 {
            color: #850F8D;
            margin-bottom: 10px;
        }

        .investment-option.selected h4 {
            color: white;
        }

        .simulate-btn {
            padding: 15px 40px;
            background: #850F8D;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.2em;
            font-weight: bold;
            transition: all 0.3s ease;
            margin-top: 20px;
        }

        .simulate-btn:hover {
            background: #C738BD;
            transform: translateY(-2px);
        }

        .simulate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        .simulation-result {
            margin-top: 20px;
            padding: 20px;
            border-radius: 10px;
            display: none;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .simulation-result.good {
            background: #4CAF50;
            color: white;
        }

        .simulation-result.bad {
            background: #f44336;
            color: white;
        }

        .simulation-result.neutral {
            background: #FF9800;
            color: white;
        }

        /* Shrnut√≠ */
        .summary {
            background: linear-gradient(135deg, #850F8D 0%, #C738BD 100%);
            color: white;
            text-align: center;
            padding: 40px;
            margin: -30px -30px 0 -30px;
        }

        .xp-award {
            font-size: 2em;
            font-weight: bold;
            color: #F8F9D7;
            margin-top: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .completion-badge {
            display: inline-block;
            background: #F8F9D7;
            color: #850F8D;
            padding: 15px 30px;
            border-radius: 50px;
            font-weight: bold;
            font-size: 1.2em;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        /* Responzivn√≠ design */
        @media (max-width: 600px) {
            .answers {
                grid-template-columns: 1fr;
            }
            
            .game-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .ai-guide {
                flex-direction: column;
                text-align: center;
            }

            .investment-options {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
<body>

<!-- === FUNKƒåN√ç LEKCE 1: AKCIE === -->
<section id="lekce-akcie">
  <div class="container">

    <!-- Header s progress barem -->
    <div class="header">
      <h1>Co jsou akcie?</h1>
      <p>Lekce 1 - Investigo</p>
      <div class="progress-bar">
        <div class="progress" id="progressBar1"></div>
      </div>
    </div>

    <!-- AI Pr≈Øvodce -->
    <div class="section">
      <div class="ai-guide">
        <div class="avatar">ü§ñ</div>
        <div class="guide-text">
          <h3>V√≠tej v investiƒçn√≠m svƒõtƒõ! üöÄ</h3>
          <p>Dnes se nauƒç√≠me, co jsou akcie a jak funguj√≠. P≈ôiprav se na interaktivn√≠ z√°bavu plnou her a simulac√≠!</p>
        </div>
      </div>
    </div>

    <!-- Mikro-lekce -->
    <div class="section">
      <h2>üè¢ Co jsou akcie?</h2>
      <div class="lesson-content">
        <strong>Akcie = vlastnictv√≠ ƒç√°sti firmy.</strong> Kdy≈æ koup√≠≈° akcii, stane≈° se spolumajitelem! ü§ù<br/><br/>
        P≈ôedstav si firmu jako dort. Akcie jsou kousky toho dortu. ƒå√≠m v√≠c kousk≈Ø m√°≈°, t√≠m vƒõt≈°√≠ jsi majitel! üéÇ<br/><br/>
        Nap≈ô√≠klad pokud Apple m√° 1000 akci√≠ a ty m√°≈° 10, vlastn√≠≈° 1% cel√© firmy!
      </div>
    </div>

    <!-- Interaktivn√≠ ot√°zka -->
    <div class="section">
      <h2>ü§î Ot√°zka na zamy≈°len√≠</h2>
      <div class="question-container">
        <div class="question">Co ti d√°v√° akcie?</div>
        <div class="answers">
          <div class="answer-btn" onclick="checkAnswer1(this, false)"><strong>A)</strong> Z√°ruku zisku</div>
          <div class="answer-btn" onclick="checkAnswer1(this, true)"><strong>B)</strong> Vlastnictv√≠ ƒç√°sti firmy</div>
          <div class="answer-btn" onclick="checkAnswer1(this, false)"><strong>C)</strong> Pr√°vo ≈ô√≠dit firmu</div>
          <div class="answer-btn" onclick="checkAnswer1(this, false)"><strong>D)</strong> Slevy na produkty</div>
        </div>
        <div class="feedback" id="questionFeedback1"></div>
      </div>
    </div>

    <!-- Minihra -->
    <div class="section">
      <h2>üéÆ Akcie nebo ne?</h2>
      <div class="game-container">
        <div class="game-score">Sk√≥re: <span id="gameScore1">0</span>/3</div>
        <div class="game-card" id="gameCard1"></div>
        <div class="game-buttons">
          <button class="game-btn stock" onclick="gameAnswer1(true)">üè¢ Akcie</button>
          <button class="game-btn not-stock" onclick="gameAnswer1(false)">‚ùå Nen√≠ akcie</button>
        </div>
        <div class="game-feedback" id="gameFeedback1"></div>
      </div>
    </div>

    <!-- Shrnut√≠ -->
    <div class="summary">
      <h2>üéâ Skvƒõl√° pr√°ce!</h2>
      <p>Dnes ses nauƒçil, co jsou <strong>akcie</strong> - vlastnictv√≠ ƒç√°sti firmy!</p>
      <p>Akcie = pod√≠l na firmƒõ. Jsi spolumajitel s dal≈°√≠mi akcion√°≈ôi!</p>
      <div class="completion-badge">üèÜ Lekce dokonƒçena!</div>
    </div>
  </div>
</section>
<body>
   
    <hr style="margin: 50px 0; border: 3px dashed #850F8D;"/>

    <!-- Lekce 2: Index -->
    <section id="lekce-index">
        <div class="container">
            <!-- Header s progress barem -->
            <div class="header">
                <h1>Co je index?</h1>
                <p>Lekce 2 - Investigo</p>
                <div class="progress-bar">
                    <div class="progress" id="progressBar2"></div>
                </div>
            </div>

            <!-- AI Pr≈Øvodce -->
            <div class="section">
                <div class="ai-guide">
                    <div class="avatar">ü§ñ</div>
                    <div class="guide-text">
                        <h3>Skvƒõl√©! Dokonƒçujeme s√©rii! üéØ</h3>
                        <p>Dnes si pov√≠me o indexech - geni√°ln√≠m n√°stroji, kter√Ω ti pom≈Ø≈æe sledovat cel√© trhy najednou. P≈ôiprav se na z√°vƒõreƒçnou lekci plnou praktick√Ωch simulac√≠!</p>
                    </div>
                </div>
            </div>

            <!-- Mikro-lekce -->
            <div class="section">
                <h2>üìä Co je index?</h2>
                <div class="lesson-content">
                    <strong>Index sleduje v√Ωvoj cel√© skupiny akci√≠.</strong> Je to jako pr≈Ømƒõr z v√≠ce akci√≠ najednou! üìà
                    <br/><br/>
                    P≈ôedstav si index jako "ko≈°√≠k" pln√Ω r≈Øzn√Ωch akci√≠. M√≠sto sledov√°n√≠ ka≈æd√© akcie zvl√°≈°≈•, sleduje≈° jen jeden ko≈°√≠k! üß∫
                    <br/><br/>
                    Nap≈ô√≠klad <strong>S&P 500</strong> sleduje 500 nejvƒõt≈°√≠ch americk√Ωch firem najednou.
                </div>
            </div>

            <!-- Interaktivn√≠ ot√°zka -->
            <div class="section">
                <h2>ü§î Ot√°zka na zamy≈°len√≠</h2>
                <div class="question-container">
                    <div class="question">K ƒçemu slou≈æ√≠ akciov√Ω index?</div>
                    <div class="answers">
                        <div class="answer-btn" onclick="checkAnswer2(this, true)">
                            <strong>A)</strong> Mƒõ≈ô√≠ v√Ωkon trhu
                        </div>
                        <div class="answer-btn" onclick="checkAnswer2(this, false)">
                            <strong>B)</strong> Urƒçuje cenu jednotliv√Ωch akci√≠
                        </div>
                        <div class="answer-btn" onclick="checkAnswer2(this, false)">
                            <strong>C)</strong> ≈ò√≠k√°, kdy koupit akcie
                        </div>
                        <div class="answer-btn" onclick="checkAnswer2(this, false)">
                            <strong>D)</strong> Zaruƒçuje zisk
                        </div>
                    </div>
                    <div class="feedback" id="questionFeedback2"></div>
                </div>
            </div>

           

            <!-- Minihra -->
            <div class="section">
                <h2>üéÆ Index nebo akcie?</h2>
                <div class="game-container">
                    <div class="game-score">Sk√≥re: <span id="gameScore2">0</span>/4</div>
                    <div class="game-card" id="gameCard2"></div>
                    <div class="game-buttons">
                        <button class="game-btn index" onclick="gameAnswer2(true)">üìä Index</button>
                        <button class="game-btn not-index" onclick="gameAnswer2(false)">üè¢ Akcie</button>
                    </div>
                    <div class="game-feedback" id="gameFeedback2"></div>
                </div>
            </div>

            <!-- Investiƒçn√≠ simulace -->
            <div class="section">
                <h2>üéØ Investiƒçn√≠ rozhodnut√≠</h2>
                <div class="simulation-container">
                    <div class="simulation-scenario">
                        üí∞ M√°≈° 5000 Kƒç na investici. Jak je vyu≈æije≈°?
                    </div>
                    <div class="investment-options">
                        <div class="investment-option" onclick="selectOption(this, 'stocks')">
                            <h4>üè¢ Jednotliv√© akcie</h4>
                            <p>Koupit akcie 2-3 konkr√©tn√≠ch firem</p>
                        </div>
                        <div class="investment-option" onclick="selectOption(this, 'index')">
                            <h4>üìä Index fond</h4>
                            <p>Investovat do cel√©ho indexu</p>
                        </div>
                        <div class="investment-option" onclick="selectOption(this, 'savings')">
                            <h4>üè¶ Spo≈ôic√≠ √∫ƒçet</h4>
                            <p>Nechat pen√≠ze na spo≈ô√°ku</p>
                        </div>
                        <div class="investment-option" onclick="selectOption(this, 'lottery')">
                            <h4>üé≤ Loterie</h4>
                            <p>Koupit losy za celou ƒç√°stku</p>
                        </div>
                    </div>
                    <button class="simulate-btn" disabled onclick="simulateInvestment()">Simulovat v√Ωsledek</button>
                    <div class="simulation-result" id="simulationResult"></div>
                </div>
            </div>

            <!-- Shrnut√≠ -->
            <div class="summary">
                <h2>üéâ Fantastick√©!</h2>
                <p>Dnes ses nauƒçil o <strong>indexech</strong> - skvƒõl√©m n√°stroji pro sledov√°n√≠ cel√Ωch trh≈Ø!</p>
                <p>Index = ko≈°√≠k r≈Øzn√Ωch akci√≠. M√≠sto rizika jedn√© firmy m√°≈° rozlo≈æen√© riziko!</p>
                <div class="completion-badge">üèÜ S√©rie dokonƒçena!</div>
            </div>
        </div>
    </section>

    <script>
        // ========== LEKCE 1: AKCIE ==========
        
        // Glob√°ln√≠ promƒõnn√© pro lekci 1
        let questionAnswered1 = false;
        let calcAnswered1 = false;
        let gameScore1 = 0;
        let gameRound1 = 0;

        // Hern√≠ data pro lekci 1
        const gameItems1 = [
            { name: "Apple", isStock: true, explanation: "Apple je firma, tak≈æe m√° akcie!" },
            { name: "Chleba", isStock: false, explanation: "Chleba je produkt, ne firma s akciemi." },
            { name: "Microsoft", isStock: true, explanation: "Microsoft je velk√° technologick√° firma s akciemi." },
            { name: "Zlat√° mince", isStock: false, explanation: "Zlato je komodita, ne akcie firmy." },
            { name: "Tesla", isStock: true, explanation: "Tesla je automobilka s akciemi na burze." },
            { name: "Hamburger", isStock: false, explanation: "Hamburger je j√≠dlo, ne investiƒçn√≠ instrument." }
        ];

        let shuffledItems1 = [...gameItems1].sort(() => Math.random() - 0.5);
        
        // Funkce pro aktualizaci progress baru - lekce 1
        function updateProgress1() {
            const totalSections = 4; // ot√°zka, kalkulace, hra, shrnut√≠
            let completedSections = 0;
            
            if (questionAnswered1) completedSections++;
            if (calcAnswered1) completedSections++;
            if (gameRound1 >= 3) completedSections++;
            completedSections++; // shrnut√≠ je v≈ædy aktivn√≠
            
            const progress = (completedSections / totalSections) * 100;
            document.getElementById('progressBar1').style.width = progress + '%';
        }

        // Funkce pro kontrolu odpovƒõdi - lekce 1
        function checkAnswer1(button, isCorrect) {
            if (questionAnswered1) return;
            
            const buttons = document.querySelectorAll('#lekce-akcie .answer-btn');
            const feedback = document.getElementById('questionFeedback1');
            
            buttons.forEach(btn => btn.style.pointerEvents = 'none');
            
            if (isCorrect) {
                button.classList.add('correct');
                feedback.className = 'feedback correct';
                feedback.innerHTML = 'üéâ Spr√°vnƒõ! Akcie ti d√°v√° vlastnictv√≠ ƒç√°sti firmy. Jsi spolumajitelem!';
            } else {
                button.classList.add('incorrect');
                feedback.className = 'feedback correct';
                feedback.innerHTML = '‚ùå Spr√°vn√° odpovƒõƒè je B) Vlastnictv√≠ ƒç√°sti firmy. Akcie = pod√≠l na firmƒõ!';
                
                // Zv√Ωrazni spr√°vnou odpovƒõƒè
                buttons.forEach(btn => {
                    if (btn.textContent.includes('B) Vlastnictv√≠ ƒç√°sti firmy')) {
                        btn.classList.add('correct');
                    }
                });
            }
            
            feedback.style.display = 'block';
            questionAnswered1 = true;
            updateProgress1();
        }

        // Funkce pro kontrolu v√Ωpoƒçtu - lekce 1
        function checkCalculation1() {
            if (calcAnswered1) return;
            
            const input = document.getElementById('calcInput1');
            const result = document.getElementById('calcResult1');
            const answer = parseFloat(input.value);
            
            if (answer === 1) {
                result.className = 'calc-result correct';
                result.innerHTML = 'üéâ V√Ωbornƒõ! 10 √∑ 1000 = 0,01 = 1%';
            } else {
                result.className = 'calc-result incorrect';
                result.innerHTML = '‚ùå Spr√°vn√° odpovƒõƒè je 1%<br>V√Ωpoƒçet: 10 √∑ 1000 = 0,01 = 1%';
            }
            
            result.style.display = 'block';
            calcAnswered1 = true;
            updateProgress1();
        }

        // Funkce pro hru - lekce 1
        function gameAnswer1(playerAnswer) {
            if (gameRound1 >= 3) return;
            
            const currentItem = shuffledItems1[gameRound1];
            const feedback = document.getElementById('gameFeedback1');
            const isCorrect = playerAnswer === currentItem.isStock;
            
            if (isCorrect) {
                gameScore1++;
                feedback.className = 'game-feedback correct';
                feedback.innerHTML = '‚úÖ Spr√°vnƒõ! ' + currentItem.explanation;
            } else {
                feedback.className = 'game-feedback incorrect';
                feedback.innerHTML = '‚ùå ≈†patnƒõ! ' + currentItem.explanation;
            }
            
            feedback.style.display = 'block';
            document.getElementById('gameScore1').textContent = gameScore1;
            
            gameRound1++;
            
            setTimeout(() => {
                if (gameRound1 < 3) {
                    nextGameRound1();
                } else {
                    endGame1();
                }
            }, 2000);
        }

        function nextGameRound1() {
            document.getElementById('gameCard1').textContent = shuffledItems1[gameRound1].name;
            document.getElementById('gameFeedback1').style.display = 'none';
        }

        function endGame1() {
            const feedback = document.getElementById('gameFeedback1');
            feedback.className = 'game-feedback correct';
            feedback.innerHTML = üéÆ Hra dokonƒçena! Sk√≥re: ${gameScore1}/3<br>Teƒè u≈æ v√≠≈°, jak rozpoznat akcie!;
            feedback.style.display = 'block';
            
            // Deaktivuj tlaƒç√≠tka
            document.querySelectorAll('#lekce-akcie .game-btn').forEach(btn => {
                btn.style.pointerEvents = 'none';
                btn.style.opacity = '0.5';
            });
            
            updateProgress1();
        }

        // Inicializace hry - lekce 1
        function initGame1() {
            document.getElementById('gameCard1').textContent = shuffledItems1[0].name;
            document.getElementById('gameScore1').textContent = gameScore1;
        }

        // ========== LEKCE 2: INDEX ==========
        
        // Glob√°ln√≠ promƒõnn√© pro lekci 2
        let questionAnswered2 = false;
        let gameScore2 = 0;
        let gameRound2 = 0;
        let simulationDone = false;
        let selectedInvestment = null;

        // Hern√≠ data pro lekci 2
        const gameItems2 = [
            { name: "S&P 500", isIndex: true, explanation: "S&P 500 sleduje 500 nejvƒõt≈°√≠ch americk√Ωch firem!" },
            { name: "Apple", isIndex: false, explanation: "Apple je jednotliv√° firma, ne index." },
            { name: "NASDAQ", isIndex: true, explanation: "NASDAQ je index technologick√Ωch firem!" },
            { name: "Microsoft", isIndex: false, explanation: "Microsoft je konkr√©tn√≠ firma s akciemi." },
            { name: "Dow Jones", isIndex: true, explanation: "Dow Jones sleduje 30 velk√Ωch americk√Ωch firem!" },
            { name: "Tesla", isIndex: false, explanation: "Tesla je automobilka, ne index." },
            { name: "FTSE 100", isIndex: true, explanation: "FTSE 100 sleduje 100 nejvƒõt≈°√≠ch britsk√Ωch firem!" }
        ];

        let shuffledItems2 = [...gameItems2].sort(() => Math.random() - 0.5);

        // Funkce pro aktualizaci progress baru - lekce 2
        function updateProgress2() {
            const totalSections = 5; // ot√°zka, kalkulace, hra, simulace, shrnut√≠
            let completedSections = 0;
            
            if (questionAnswered2) completedSections++;
            if (gameRound2 >= 4) completedSections++;
            if (simulationDone) completedSections++;
            completedSections++; // shrnut√≠ je v≈ædy aktivn√≠
            
            const progress = (completedSections / totalSections) * 100;
            document.getElementById('progressBar2').style.width = progress + '%';
        }

        // Funkce pro kontrolu odpovƒõdi - lekce 2
        function checkAnswer2(button, isCorrect) {
            if (questionAnswered2) return;
            
            const buttons = document.querySelectorAll('#lekce-index .answer-btn');
            const feedback = document.getElementById('questionFeedback2');
            
            buttons.forEach(btn => btn.style.pointerEvents = 'none');
            
            if (isCorrect) {
                button.classList.add('correct');
                feedback.className = 'feedback correct';
                feedback.innerHTML = 'üéâ V√Ωbornƒõ! Index skuteƒçnƒõ mƒõ≈ô√≠ v√Ωkon cel√©ho trhu nebo skupiny akci√≠!';
            } else {
                button.classList.add('incorrect');
                feedback.className = 'feedback correct';
                feedback.innerHTML = '‚ùå Spr√°vn√° odpovƒõƒè je A) Mƒõ≈ô√≠ v√Ωkon trhu. Index ukazuje, jak si vede cel√° skupina akci√≠!';
                
                // Zv√Ωrazni spr√°vnou odpovƒõƒè
                buttons.forEach(btn => {
                    if (btn.textContent.includes('A) Mƒõ≈ô√≠ v√Ωkon trhu')) {
                        btn.classList.add('correct');
                    }
                });
            }
            
            feedback.style.display = 'block';
            questionAnswered2 = true;
            updateProgress2();
        }


       function gameAnswer2(playerAnswer) {
    if (gameRound2 >= 4) return;
    
    const currentItem = shuffledItems2[gameRound2];
    const feedback = document.getElementById('gameFeedback2');
    const isCorrect = playerAnswer === currentItem.isIndex;
    
    if (isCorrect) {
        gameScore2++;
        feedback.className = 'game-feedback correct';
        feedback.innerHTML = '‚úÖ Spr√°vnƒõ! ' + currentItem.explanation;
    } else {
        feedback.className = 'game-feedback incorrect';
        feedback.innerHTML = '‚ùå ≈†patnƒõ! ' + currentItem.explanation;
    }
    
    feedback.style.display = 'block';
    document.getElementById('gameScore2').textContent = gameScore2;
    
    gameRound2++;
    
    setTimeout(() => {
        if (gameRound2 < 4) {
            nextGameRound2(); // Zmƒõna n√°zvu funkce
        } else {
            endGame2();
        }
    }, 2000);
}

function nextGameRound2() { // Zmƒõna n√°zvu funkce
    document.getElementById('gameCard2').textContent = shuffledItems2[gameRound2].name;
    document.getElementById('gameFeedback2').style.display = 'none';
}

        function endGame2() {
            const feedback = document.getElementById('gameFeedback2');
            feedback.className = 'game-feedback correct';
            feedback.innerHTML = üéÆ Hra dokonƒçena! Sk√≥re: ${gameScore2}/4<br>Teƒè u≈æ rozpozn√°≈° indexy!;
            feedback.style.display = 'block';
            
            // Deaktivuj tlaƒç√≠tka
            document.querySelectorAll('#lekce-index .game-btn').forEach(btn => {
                btn.style.pointerEvents = 'none';
                btn.style.opacity = '0.5';
            });
            
            updateProgress2();
        }

        // Funkce pro simulaci
        function selectOption(element, type) {
            // Zru≈° p≈ôedchoz√≠ v√Ωbƒõr
            document.querySelectorAll('.investment-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Oznaƒç nov√Ω v√Ωbƒõr
            element.classList.add('selected');
            selectedInvestment = type;
            
            // Aktivuj tlaƒç√≠tko
            document.querySelector('.simulate-btn').disabled = false;
        }

        function simulateInvestment() {
            if (!selectedInvestment || simulationDone) return;
            
            const result = document.getElementById('simulationResult');
            let resultClass = '';
            let resultText = '';
            
            switch(selectedInvestment) {
                case 'index':
                    resultClass = 'good';
                    resultText = 'üéâ Skvƒõl√° volba! Index fond ti d√°v√°:<br>‚Ä¢ Rozlo≈æen√© riziko mezi stovky firem<br>‚Ä¢ Ni≈æ≈°√≠ poplatky<br>‚Ä¢ Dlouhodob√Ω r≈Øst s trhem<br>‚Ä¢ M√©nƒõ stresu p≈ôi investov√°n√≠';
                    break;
                case 'stocks':
                    resultClass = 'neutral';
                    resultText = '‚ö† Rozumn√° volba, ale rizikov√°:<br>‚Ä¢ Ve≈°ker√© riziko v 2-3 firm√°ch<br>‚Ä¢ M≈Ø≈æe se da≈ôit skvƒõle nebo ≈°patnƒõ<br>‚Ä¢ Vy≈æaduje v√≠ce znalost√≠<br>‚Ä¢ Doporuƒçujeme zaƒç√≠t s indexy';
                    break;
                case 'savings':
                    resultClass = 'neutral';
                    resultText = 'üí§ Bezpeƒçn√°, ale pomal√° volba:<br>‚Ä¢ ≈Ω√°dn√© riziko ztr√°ty<br>‚Ä¢ Velmi n√≠zk√© zhodnocen√≠ (2-3% roƒçnƒõ)<br>‚Ä¢ Inflace ti bude "ukrajovat" z hodnoty<br>‚Ä¢ Pro dlouhodob√© c√≠le nedostateƒçn√©';
                    break;
                case 'lottery':
                    resultClass = 'bad';
                    resultText = 'üé≤ ≈†patn√° volba! Loterie nen√≠ investice:<br>‚Ä¢ Pravdƒõpodobnost v√Ωhry t√©mƒõ≈ô nulov√°<br>‚Ä¢ Matematicky zaruƒçen√° ztr√°ta<br>‚Ä¢ Nen√≠ to investiƒçn√≠ n√°stroj<br>‚Ä¢ Radƒõji zkus indexov√© fondy!';
                    break;
            }
            
            result.className = simulation-result ${resultClass};
            result.innerHTML = resultText;
            result.style.display = 'block';
            
            // Deaktivuj tlaƒç√≠tko
            document.querySelector('.simulate-btn').disabled = true;
            document.querySelector('.simulate-btn').textContent = 'Simulace dokonƒçena';
            
            simulationDone = true;
            updateProgress2();
        }

        // Inicializace hry - lekce 2
        function initGame2() {
            document.getElementById('gameCard2').textContent = shuffledItems2[0].name;
            document.getElementById('gameScore2').textContent = gameScore2;
        }

    
      
        // Umo≈æn√≠ enter v kalkulaƒçk√°ch
        document.addEventListener('DOMContentLoaded', function() {
            const calcInput1 = document.getElementById('calcInput1');
            const calcInput2 = document.getElementById('calcInput2');
            
            if (calcInput1) {
                calcInput1.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        checkCalculation1();
                    }
                });
            }
            
            if (calcInput2) {
                calcInput2.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        checkCalculation2();
                    }
                });
            }
        });
    </script>





 








    <div class="container">
        <div class="header">
            <h1>Dividenda a Burza</h1>
            <p>Spojen√° lekce - Investigo</p>
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
        </div>

        <!-- Lekce o dividendƒõ -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">üí∞ Co je dividenda?</h2>
            <div class="lesson-content">
                <strong>Dividenda je v√Ωplata ƒç√°sti zisku firmy investor≈Øm.</strong> 
                <br><br>
                P≈ôedstav si to takto: Kdy≈æ firma vydƒõl√° pen√≠ze, ƒç√°st si nech√° pro sebe a ƒç√°st rozd√° majitel≈Øm akci√≠ jako odmƒõnu. To je dividenda! üí∏
            </div>
        </div>

        <!-- Ot√°zka o dividendƒõ -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">ü§î Ot√°zka o dividendƒõ</h2>
            <div class="question-container">
                <div class="question">Kdo dost√°v√° dividendu?</div>
                <div class="answers">
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'dividend')">
                        <strong>A)</strong> V≈°ichni obƒçan√©
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, true, 'dividend')">
                        <strong>B)</strong> Majitel√© akci√≠
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'dividend')">
                        <strong>C)</strong> Mana≈æe≈ôi firmy
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'dividend')">
                        <strong>D)</strong> Banky
                    </div>
                </div>
                <div class="feedback" id="dividendFeedback"></div>
            </div>
        </div>

        <!-- Drag & Drop -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">üîÑ Tok penƒõz - Se≈ôaƒè spr√°vnƒõ</h2>
            <div class="drag-container">
                <div class="drag-area">
                    <div class="drop-zone" id="step1">1. Krok</div>
                    <div class="arrow">‚Üí</div>
                    <div class="drop-zone" id="step2">2. Krok</div>
                    <div class="arrow">‚Üí</div>
                    <div class="drop-zone" id="step3">3. Krok</div>
                    <div class="arrow">‚Üí</div>
                    <div class="drop-zone" id="step4">4. Krok</div>
                 
                </div>
                <div class="draggable-items">
                    <div class="draggable-item" draggable="true" data-correct="1">Koup√≠m akcie</div>
                    <div class="draggable-item" draggable="true" data-correct="2">Firma vydƒõl√° zisk</div>
                    <div class="draggable-item" draggable="true" data-correct="3">Firma vyplat√≠ dividendu</div>
                    <div class="draggable-item" draggable="true" data-correct="4">Dostanu pen√≠ze</div>
                </div>
                <div class="drag-feedback" id="dragFeedback"></div>
            </div>
        </div>

        <!-- Hra dividenda -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">üéÆ Dividenda nebo ne?</h2>
            <div class="game-container">
                <div class="game-score">Sk√≥re: <span id="dividendScore">0</span>/4</div>
                <div class="game-card" id="dividendCard"></div>
                <div class="game-buttons">
                    <button class="game-btn dividend" onclick="dividendgameAnswer(true, 'dividend')">üí∞ Dividenda</button>
                    <button class="game-btn not-dividend" onclick="dividendgameAnswer(false, 'dividend')">‚ùå Nen√≠ dividenda</button>
                </div>
                <div class="game-feedback" id="dividendGameFeedback"></div>
            </div>
        </div>

        <!-- Lekce o burze -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">üìà Co je burza?</h2>
            <div class="lesson-content">
                <strong>Burza je trh, kde se obchoduj√≠ akcie.</strong> Je to m√≠sto, kde se kupuj√≠ a prod√°vaj√≠ pod√≠ly ve firm√°ch. üè™
                <br><br>
                P≈ôedstav si to jako ob≈ô√≠ tr≈æi≈°tƒõ - ale m√≠sto jablek a mrkve se tam prod√°vaj√≠ kousky Applu a Tesly! üì±üöó
            </div>
        </div>

        <!-- Ot√°zka o burze -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">ü§î Ot√°zka o burze</h2>
            <div class="question-container">
                <div class="question">Co se na burze NEKUPUJE?</div>
                <div class="answers">
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'stock')">
                        <strong>A)</strong> Akcie Apple
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'stock')">
                        <strong>B)</strong> Akcie Microsoft
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, true, 'stock')">
                        <strong>C)</strong> Housky
                    </div>
                    <div class="answer-btn" onclick="checkAnswer(this, false, 'stock')">
                        <strong>D)</strong> Akcie Tesla
                    </div>
                </div>
                <div class="feedback" id="stockFeedback"></div>
            </div>
        </div>

        <!-- Hra burza -->
        <div class="section">
            <h2 style="color: #850F8D; margin-bottom: 20px; text-align: center;">üéÆ Burza nebo tr≈æi≈°tƒõ?</h2>
            <div class="game-container">
                <div class="game-score">Sk√≥re: <span id="stockScore">0</span>/3</div>
                <div class="game-card" id="stockCard"></div>
                <div class="game-buttons">
                    <button class="game-btn stock-exchange" onclick="dividendgameAnswer(true, 'stock')">üìà Burza</button>
                    <button class="game-btn marketplace" onclick="dividendgameAnswer(false, 'stock')">üõí Tr≈æi≈°tƒõ</button>
                </div>
                <div class="game-feedback" id="stockGameFeedback"></div>
            </div>
        </div>

        <!-- Shrnut√≠ -->
        <div class="summary">
            <h2>üéâ Skvƒõl√° pr√°ce!</h2>
            <p>Dnes ses nauƒçil o <strong>dividend√°ch</strong> - v√Ωplat√°ch ze zisku investor≈Øm.</p>
            <p>A tak√© o <strong>burze</strong> - trhu pro obchodov√°n√≠ s akciemi.</p>
            <div class="completion-badge">üèÜ Lekce dokonƒçena!</div>
        </div>
    </div>

    <script>
        // Glob√°ln√≠ promƒõnn√©
        let dividendAnswered = false;
        let stockAnswered = false;
        let dragCompleted = false;
        let dividendGameScore = 0;
        let dividendGameRound = 0;
        let stockGameScore = 0;
        let stockGameRound = 0;
        let placedItems = 0;

        // Hern√≠ data
        const dividendItems = [
            { name: "V√Ωplata zisku akcion√°≈ô≈Øm", isDividend: true, explanation: "P≈ôesnƒõ! To je definice dividendy." },
            { name: "√örok z vkladu v bance", isDividend: false, explanation: "√örok je odmƒõna za ulo≈æen√≠ penƒõz, ne dividenda." },
            { name: "Mzda za pr√°ci", isDividend: false, explanation: "Mzda je odmƒõna za pr√°ci, ne pod√≠l ze zisku." },
            { name: "Renta z nemovitosti", isDividend: false, explanation: "Renta je p≈ô√≠jem z pron√°jmu, ne dividenda z akci√≠." }
        ];

        const stockItems = [
            { name: "üçé Prodej jablek", isStockExchange: false, explanation: "Jablka se prod√°vaj√≠ na tr≈æi≈°ti, ne na burze!" },
            { name: "üì± Akcie Apple", isStockExchange: true, explanation: "Akcie se obchoduj√≠ na burze!" },
            { name: "üöó Akcie Tesla", isStockExchange: true, explanation: "Akcie automobilky se obchoduj√≠ na burze!" }
        ];

        let shuffledDividendItems = [...dividendItems].sort(() => Math.random() - 0.5);
        let shuffledStockItems = [...stockItems].sort(() => Math.random() - 0.5);

        // Funkce pro aktualizaci progress baru
        function updateProgress() {
            const totalSections = 6;
            let completedSections = 0;
            
            if (dividendAnswered) completedSections++;
            if (dragCompleted) completedSections++;
            if (dividendGameRound >= 4) completedSections++;
            if (stockAnswered) completedSections++;
            if (stockGameRound >= 3) completedSections++;
            completedSections++; // shrnut√≠
            
            const progress = (completedSections / totalSections) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        // Funkce pro kontrolu odpovƒõdi
        function checkAnswer(button, isCorrect, type) {
            if ((type === 'dividend' && dividendAnswered) || (type === 'stock' && stockAnswered)) return;
            
            const buttons = button.parentElement.querySelectorAll('.answer-btn');
            const feedbackId = type === 'dividend' ? 'dividendFeedback' : 'stockFeedback';
            const feedback = document.getElementById(feedbackId);
            
            buttons.forEach(btn => btn.style.pointerEvents = 'none');
            
            if (isCorrect) {
                button.classList.add('correct');
                feedback.className = 'feedback correct';
                if (type === 'dividend') {
                    feedback.innerHTML = 'üéâ Spr√°vnƒõ! Dividendu dost√°vaj√≠ majitel√© akci√≠ jako pod√≠l ze zisku!';
                } else {
                    feedback.innerHTML = 'üéâ Spr√°vnƒõ! Housky se kupuj√≠ v pek√°rnƒõ, ne na burze!';
                }
            } else {
                button.classList.add('incorrect');
                feedback.className = 'feedback correct';
                if (type === 'dividend') {
                    feedback.innerHTML = '‚ùå Spr√°vn√° odpovƒõƒè je B) Majitel√© akci√≠. Dividenda pat≈ô√≠ akcion√°≈ô≈Øm!';
                } else {
                    feedback.innerHTML = '‚ùå Spr√°vn√° odpovƒõƒè je C) Housky. Na burze se obchoduje jen s akciemi!';
                }
                
                // Zv√Ωrazni spr√°vnou odpovƒõƒè
                buttons.forEach(btn => {
                    const correctText = type === 'dividend' ? 'B) Majitel√© akci√≠' : 'C) Housky';
                    if (btn.textContent.includes(correctText)) {
                        btn.classList.add('correct');
                    }
                });
            }
            
            feedback.style.display = 'block';
            if (type === 'dividend') {
                dividendAnswered = true;
            } else {
                stockAnswered = true;
            }
            updateProgress();
        }

      // Funkce pro p≈ôid√°n√≠ drag posluchaƒç≈Ø
function addDragListeners(draggable) {
    draggable.addEventListener('dragstart', e => {
        e.dataTransfer.setData('text/plain', draggable.textContent);
        e.dataTransfer.setData('correct', draggable.dataset.correct);
        draggable.classList.add('dragging');
    });

    draggable.addEventListener('dragend', e => {
        draggable.classList.remove('dragging');
    });
}

// Funkce pro kontrolu drag & drop
function checkDragDrop() {
    const zones = document.querySelectorAll('.drop-zone');
    let correct = 0;
    
    zones.forEach((zone, index) => {
        if (zone.dataset.placed === String(index + 1)) {
            correct++;
        }
    });
    
    const feedback = document.getElementById('dragFeedback');
    
    if (correct === 4) {
        feedback.className = 'drag-feedback correct';
        feedback.innerHTML = 'üéâ V√Ωbornƒõ! Spr√°vnƒõ jsi se≈ôadil tok penƒõz u dividend!';
        dragCompleted = true;
        updateProgress();
    } else {
        feedback.className = 'drag-feedback incorrect';
        feedback.innerHTML = ‚ùå Spr√°vnƒõ: ${correct}/4. Zkus to znovu!;
        
        // Reset pro nov√Ω pokus
        setTimeout(() => {
            resetDragDrop();
        }, 2000);
    }
    
    feedback.style.display = 'block';
}

// Funkce pro reset drag & drop
function resetDragDrop() {
    const zones = document.querySelectorAll('.drop-zone');
    const draggableContainer = document.querySelector('.draggable-items');
    
    // Vyƒçisti z√≥ny
    zones.forEach((zone, index) => {
        zone.textContent = (index + 1) + '. Krok';
        zone.classList.remove('filled', 'wrong');
        zone.dataset.filled = 'false';
        delete zone.dataset.placed;
    });
    
    // Vra≈• v≈°echny polo≈æky zpƒõt dol≈Ø
    draggableContainer.innerHTML = `
        <div class="draggable-item" draggable="true" data-correct="1">Koup√≠m akcie</div>
        <div class="draggable-item" draggable="true" data-correct="2">Firma vydƒõl√° zisk</div>
        <div class="draggable-item" draggable="true" data-correct="3">Firma vyplat√≠ dividendu</div>
        <div class="draggable-item" draggable="true" data-correct="4">Dostanu pen√≠ze</div>
    `;
    
    // Znovu p≈ôidej posluchaƒçe
    const newDraggables = document.querySelectorAll('.draggable-item');
    newDraggables.forEach(draggable => {
        addDragListeners(draggable);
    });
    
    placedItems = 0;
    document.getElementById('dragFeedback').style.display = 'none';
}

// Hlavn√≠ inicializaƒçn√≠ funkce drag & drop
function initDragDrop() {
    const draggables = document.querySelectorAll('.draggable-item');
    const dropZones = document.querySelectorAll('.drop-zone');
    placedItems = 0;

    // P≈ôidej posluchaƒçe na v≈°echny v√Ωrazy
    draggables.forEach(draggable => {
        addDragListeners(draggable);
    });

    dropZones.forEach(zone => {
        zone.addEventListener('dragover', e => {
            e.preventDefault();
        });

        zone.addEventListener('drop', e => {
            e.preventDefault();
            const text = e.dataTransfer.getData('text/plain');
            const correct = e.dataTransfer.getData('correct');
            const zoneNumber = zone.id.replace('step', '');
            
            // Najdi a sma≈æ p≈Øvodn√≠ draggable element
            const originalItem = Array.from(document.querySelectorAll('.draggable-item'))
                .find(item => item.textContent === text && item.dataset.correct === correct);
            if (originalItem) {
                originalItem.remove();
            }

            // Pokud u≈æ v z√≥nƒõ nƒõco bylo ‚Üí vr√°tit zpƒõt dol≈Ø
            if (zone.dataset.filled === 'true') {
                const prevText = zone.textContent;
                const prevCorrect = zone.dataset.placed;

                const newItem = document.createElement('div');
                newItem.className = 'draggable-item';
                newItem.draggable = true;
                newItem.textContent = prevText;
                newItem.dataset.correct = prevCorrect;

                document.querySelector('.draggable-items').appendChild(newItem);
                addDragListeners(newItem);
            } else {
                placedItems++;
            }

            // Um√≠stit nov√Ω v√Ωraz
            zone.textContent = text;
            zone.dataset.placed = correct;
            zone.dataset.filled = 'true';

            if (correct === zoneNumber) {
                zone.classList.remove('wrong');
                zone.classList.add('filled');
            } else {
                zone.classList.remove('filled');
                zone.classList.add('wrong');
            }

            // Zkontroluj, jestli jsou v≈°echny z√≥ny zaplnƒõn√©
            const filledZones = document.querySelectorAll('.drop-zone[data-filled="true"]').length;
            if (filledZones === 4) {
                checkDragDrop();
            }
        });
    });
}


        // Funkce pro hru
        function dividendgameAnswer(playerAnswer, gameType) {
            if (gameType === 'dividend') {
                if (dividendGameRound >= 4) return;
                
                const currentItem = shuffledDividendItems[dividendGameRound];
                const feedback = document.getElementById('dividendGameFeedback');
                const isCorrect = playerAnswer === currentItem.isDividend;
                
                if (isCorrect) {
                    dividendGameScore++;
                    feedback.className = 'game-feedback correct';
                    feedback.innerHTML = '‚úÖ Spr√°vnƒõ! ' + currentItem.explanation;
                } else {
                    feedback.className = 'game-feedback incorrect';
                    feedback.innerHTML = '‚ùå ≈†patnƒõ! ' + currentItem.explanation;
                }
                
                feedback.style.display = 'block';
                document.getElementById('dividendScore').textContent = dividendGameScore;
                
                dividendGameRound++;
                
                setTimeout(() => {
                    if (dividendGameRound < 4) {
                        nextDividendGameRound('dividend');
                    } else {
                        endGame('dividend');
                    }
                }, 2000);
            } else {
                if (stockGameRound >= 3) return;
                
                const currentItem = shuffledStockItems[stockGameRound];
                const feedback = document.getElementById('stockGameFeedback');
                const isCorrect = playerAnswer === currentItem.isStockExchange;
                
                if (isCorrect) {
                    stockGameScore++;
                    feedback.className = 'game-feedback correct';
                    feedback.innerHTML = '‚úÖ Spr√°vnƒõ! ' + currentItem.explanation;
                } else {
                    feedback.className = 'game-feedback incorrect';
                    feedback.innerHTML = '‚ùå ≈†patnƒõ! ' + currentItem.explanation;
                }
                
                feedback.style.display = 'block';
                document.getElementById('stockScore').textContent = stockGameScore;
                
                stockGameRound++;
                
                setTimeout(() => {
                    if (stockGameRound < 3) {
                        nextDividendGameRound('stock');
                    } else {
                        endGame('stock');
                    }
                }, 2000);
            }
        }

        function nextDividendGameRound(gameType) {
            if (gameType === 'dividend') {
                document.getElementById('dividendCard').textContent = shuffledDividendItems[dividendGameRound].name;
                document.getElementById('dividendGameFeedback').style.display = 'none';
            } else {
                document.getElementById('stockCard').textContent = shuffledStockItems[stockGameRound].name;
                document.getElementById('stockGameFeedback').style.display = 'none';
            }
        }

        function endGame(gameType) {
            if (gameType === 'dividend') {
                const feedback = document.getElementById('dividendGameFeedback');
                feedback.className = 'game-feedback correct';
                feedback.innerHTML = üéÆ Hra dokonƒçena! Sk√≥re: ${dividendGameScore}/4<br>Teƒè u≈æ rozum√≠≈° dividend√°m!;
                feedback.style.display = 'block';
                
                document.querySelectorAll('.game-btn.dividend, .game-btn.not-dividend').forEach(btn => {
                    btn.style.pointerEvents = 'none';
                    btn.style.opacity = '0.5';
                });
            } else {
                const feedback = document.getElementById('stockGameFeedback');
                feedback.className = 'game-feedback correct';
                feedback.innerHTML = üéÆ Hra dokonƒçena! Sk√≥re: ${stockGameScore}/3<br>U≈æ rozum√≠≈° rozd√≠lu mezi burzou a tr≈æi≈°tƒõm!;
                feedback.style.display = 'block';
                
                document.querySelectorAll('.game-btn.stock-exchange, .game-btn.marketplace').forEach(btn => {
                    btn.style.pointerEvents = 'none';
                    btn.style.opacity = '0.5';
                });
            }
            
            updateProgress();
        }

        // Inicializace
        function initGame() {
            document.getElementById('dividendCard').textContent = shuffledDividendItems[0].name;
            document.getElementById('stockCard').textContent = shuffledStockItems[0].name;
            document.getElementById('dividendScore').textContent = dividendGameScore;
            document.getElementById('stockScore').textContent = stockGameScore;
        }

        // Spust√≠ p≈ôi naƒçten√≠ str√°nky
       document.addEventListener('DOMContentLoaded', function() {
    initGame1();          
    initGame2();          
    initGame();   
    initDragDrop();       
    updateProgress1();
    updateProgress2();
    updateProgress();     
});
    </script>

</body>
</html>